using System.Linq;
using NetInfo.Devices.NMCI.Juniper.ScreenOS;
using NUnit.Framework;

namespace NetInfo.Devices.NMCI.Tests.Juniper {

  [TestFixture]
  public class ScreenOSTests {

    [Test]
    public void screen_os_should_be_able_to_correctly_parse_banner1() {
      var config = new AssetBlob {
        Body = @"!#*************************************************************************************************
!#*** Version: Netscreen Test Script Version 1.4
!#*************************************************************************************************
!#*** Device: Use on any Netscreen
!#*************************************************************************************************
!#*** Purpose: Use this script to gather data for further analysis
!#*************************************************************************************************
!#*** NOTE: Ignore any errors due to syntax or missing hardware
!#*************************************************************************************************
MCUSQUANFWZ00->"
      };

      INMCIScreenOSDevice device = new NMCIScreenOSDevice(config);

      Assert.AreEqual(9, device.TestScriptHeader.Count());
    }

    [Test]
    public void screen_os_should_be_able_to_correctly_parse_banner2() {
      var config = new AssetBlob {
        Body = @"
HA:MCUSQUANVP00(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP00(M)-> !#*** Version: Netscreen Test Script Version 1.4
^---------unknown keyword !#***
HA:MCUSQUANVP00(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP00(M)-> !#*** Device: Use on any Netscreen
^---------unknown keyword !#***
HA:MCUSQUANVP00(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP00(M)-> !#*** Purpose: Use this script to gather data for further analysis
^---------unknown keyword !#***
HA:MCUSQUANVP00(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP00(M)-> !#*** NOTE: Ignore any errors due to syntax or missing hardware
^---------unknown keyword !#***
HA:MCUSQUANVP00(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP00(M)->
HA:MCUSQUANVP00(M)-> set console page 0"
      };

      INMCIScreenOSDevice device = new NMCIScreenOSDevice(config);

      Assert.AreEqual(18, device.TestScriptHeader.Count());
    }

    [Test]
    public void screen_os_should_be_able_to_correctly_parse_banner3() {
      var config = new AssetBlob {
        Body = @"
HA:MCUSQUANVP05(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP05(M)-> !#*** Version: Netscreen Test Script Version 1.4
^---------unknown keyword !#***
HA:MCUSQUANVP05(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP05(M)-> !#*** Device: Use on any Netscreen
^---------unknown keyword !#***
HA:MCUSQUANVP05(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP05(M)-> !#*** Purpose: Use this script to gather data for further analysis
^---------unknown keyword !#***
HA:MCUSQUANVP05(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP05(M)-> !#*** NOTE: Ignore any errors due to syntax or missing hardware
^---------unknown keyword !#***
HA:MCUSQUANVP05(M)-> !#*************************************************************************************************
^-----------------------------------------------------------------------------------------------------unknown keyword !#*************************************************************************************************
HA:MCUSQUANVP05(M)->
HA:MCUSQUANVP05(M)-> set console page 0"
      };

      INMCIScreenOSDevice device = new NMCIScreenOSDevice(config);

      Assert.AreEqual(18, device.TestScriptHeader.Count());
    }
  }
}